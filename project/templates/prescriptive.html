
<!-- prescriptive analysis -->
<!-- route: /prescriptive -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="{{url_for('static', filename='img/apple-icon.png')}}">
    <link rel="icon" type="image/png" href="{{url_for('static',filename='img/favicon.png')}}">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>
        Digital Twin Dashboard
    </title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
        name='viewport' />
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet" />
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">


    <!-- Nucleo Icons -->
    <link rel="stylesheet" href="{{url_for('static',filename='css/nucleo-icons.css')}}" />
    <!-- CSS Files -->
    <!-- CSS Files -->
    <link rel="stylesheet" href="{{url_for('static', filename='css/black-dashboard.css')}}" />
    <link href="{{url_for('static', filename='css/bootstrap.min.css')}}" rel="stylesheet" />
    <link rel="stylesheet" href="{{url_for('static', filename='css/condition.css')}}">

    <!-- CSS Just for demo purpose, don't include it in your project -->
    <!-- <link href="../static/demo/demo.css" rel="stylesheet" /> -->
</head>

<!-- ==================================== HEAD END ========================================== -->


<!-- ========================================= BODY START =========================================== -->

<body class=" ">
    <div class="wrapper ">
        <div class="sidebar">
            <!--
        Tip 1: You can change the color of the sidebar using: data-color="blue | green | orange | red | yellow"
    -->
            <div class="sidebar-wrapper">
                <div class="logo">
                    <a href="" class="simple-text logo-mini">
                        DT
                    </a>
                    <a href="" class="simple-text logo-normal">
                        Digital Twin
                    </a>
                </div>


                <!-- ==========================NAVIGATION BAR====================================== -->
                <ul class="nav">
                    <li>
                        <a href="./dashboard">
                            <i class="tim-icons icon-chart-pie-36"></i>
                            <p>Dashboard</p>
                        </a>
                    </li>

                    <li>
                        <a href="./tests">
                            <i class="tim-icons icon-atom"></i>
                            <p>Behavioral Tests</p>
                        </a>
                    </li>

                    <li>
                        <a href="./analysis">
                            <!-- <a href="./map.html"></a> -->
                            <i class="tim-icons icon-pin"></i>
                            <p>Descriptive Analysis</p>
                        </a>
                    </li>

                    <li class="active">
                        <a href="">
                            <!-- <a href="./notifications.html"> -->
                            <i class="tim-icons icon-bell-55"></i>
                            <p>Prescriptive Analysis</p>
                        </a>
                    </li>
                    <li>

                        <!-- <a hre
              f=""> -->
                        <a href="./user.html">
                            <i class="tim-icons icon-single-02"></i>
                            <p>User Profile</p>
                        </a>
                    </li>
                    <li>

                        <a href="">
                            <!-- <a href="./tables.html"> -->
                            <i class="tim-icons icon-puzzle-10"></i>
                            <p>Report</p>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <!-- <a href="./typography.html"> -->
                            <i class="tim-icons icon-align-center"></i>
                            <p>Work order</p>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <!-- <a href="./rtl.html"></a> -->
                            <i class="tim-icons icon-world"></i>
                            <p>Support</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="main-panel">
            <!-- Navbar -->
            <nav class="navbar navbar-expand-lg navbar-absolute navbar-transparent   ">
                <div class="container-fluid">
                    <div class="navbar-wrapper">
                        <div class="navbar-toggle d-inline">
                            <button type="button" class="navbar-toggler">
                                <span class="navbar-toggler-bar bar1"></span>
                                <span class="navbar-toggler-bar bar2"></span>
                                <span class="navbar-toggler-bar bar3"></span>
                            </button>
                        </div>
                        <a class="navbar-brand" href="#pablo">Dashboard</a>
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
                        aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-bar navbar-kebab"></span>
                        <span class="navbar-toggler-bar navbar-kebab"></span>
                        <span class="navbar-toggler-bar navbar-kebab"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto ">
                            <div class="search-bar input-group">
                                <!-- <input type="text" class="form-control" placeholder="Search...">
      <div class="input-group-addon"><i class="tim-icons icon-zoom-split"></i></div> -->
                                <button class="btn btn-link" id="search-button" data-toggle="modal"
                                    data-target="#searchModal"><i class="tim-icons icon-zoom-split"></i></button>
                                <!-- You can choose types of search input -->
                            </div>

                            <li class="dropdown nav-item">
                                <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                                    <div class="notification d-none d-lg-block d-xl-block"></div>
                                    <i class="tim-icons icon-sound-wave"></i>
                                    <p class="d-lg-none">
                                        New Notifications
                                    </p>
                                </a>

                            </li>
                            <li class="dropdown nav-item">
                                <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                                    <div class="photo">
                                        <img src="../static/img/anime3.png">
                                    </div>
                                    <!-- <b class="caret d-none d-lg-block d-xl-block"></b> -->
                                    <p class="d-lg-none">
                                        Log out
                                    </p>
                                </a>
                                <ul class="dropdown-menu dropdown-navbar">
                                    <li class="nav-link">
                                        <a href="#" class="nav-item dropdown-item">Profile</a>
                                    </li>
                                    <li class="nav-link">
                                        <a href="#" class="nav-item dropdown-item">Settings</a>
                                    </li>
                                    <div class="dropdown-divider"></div>
                                    <li class="nav-link">
                                        <a href="#" class="nav-item dropdown-item">Log out</a>
                                    </li>
                                </ul>
                            </li>
                            <!-- <li class="separator d-lg-none"></li> -->
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModal"
                aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="SEARCH">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <i class="tim-icons icon-simple-remove"></i>
                            </button>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </div>
                </div>
            </div>
            <!------------------------ End Navbar ------------------------------->

            <!------------------------ CHARTS START ----------------------------->
            <div class="content">
                <div class="row">
                    <!---------------- RATIO CHART START ------------------>
                    <div class="col-lg-3">
                        <div class="card card-chart text-center">
                            <div class="card-header ">

                                <!-- <h5 class="card-category">Ratio Test</h5> -->
                                <h3 class="card-title">Ratio Test</h3>

                            </div>
                            <div class="card-body">
                                <div class="chart-area" style="height: 280px;">
                                    <canvas id="chartBig1"></canvas>
                                </div>

                                <!-- <div class="row">
                                     <div class="result-box">
                                        <span class="result-text" id="test1"></span>
                                    </div> 
                                     <p onload="storeData('name', 'nishhh');"></p> 
                                    <a href="#" class="btn btn-primary">Analysis</a> 
                                </div> -->
                            </div>
                        </div>
                    </div>
                    <!----------------- RATIO CHART END --------------------->

                    <!----------------- EFFICIENCY CHART START -------------->
                    <div class="col-lg-3">
                        <div class="card card-chart text-center">
                            <div class="card-header ">
                                <!-- <h class="card-category">Efficiency </h1> -->
                                <h3 class="card-title">Efficiency</h3>
                            </div>
                            <div class="card-body ">
                                <div class="chart-area" style="height: 280px">
                                    <canvas id="chartLinePurple"></canvas>
                                </div>
                                <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
                                <!-- <div class="result-box2"> 
                                 <span class="result-text2" id="test2"></span> 
                                 </div> -->
                            </div>
                        </div>
                    </div>
                    <!----------------- EFFICIENCY CHART END -------------->

                    <!----------------- OIL TEMPERATURE START -------------->
                    <div class="col-lg-3">
                        <div class="row">
                            <div class="col-12">
                                <div class="card card-chart text-center">
                                    <div class="card-header ">
                                        <!-- <h5 class="card-category">Secondary Current</h5> -->
                                        <h3 class="card-title">Oil Temperature</h3>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-area" style="height: 280px;">
                                            <canvas id="chartBig2"></canvas>
                                        </div>
                                        <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!------------------- OIL TEMPERATURE END --------------->

                    <!------------------ WINDING RESISTANCE START ---------------->
                    <div class="col-lg-3">
                        <div class="card card-chart text-center">
                            <div class="card-header ">
                                <!-- <h5 class="card-category">Oil Temperature</h5> -->
                                <h3 class="card-title ">Winding Resistance</h3>
                            </div>
                            <div class="card-body">
                                <div class="chart-area" style="height: 280px;">
                                    <canvas id="chartLineGreen"></canvas>
                                </div>
                                <!-- <a href="#" class="btn btn-primary" onclick="alert()">Go somewhere</a> -->
                            </div>
                        </div>
                    </div>
                    <!----------------- WINDING RESISTANCE END ---------------->
                </div>
                <!--------------------- ROW 1 END--------------------------->
                <table class="table">
                    <thead>
                        <tr>
                            <th class="text-left">Sr. No.</th>
                            <th>Name Of Test</th>
                            <th>Hif</th>
                            <th>Condition</th>
                            <th>Solution</th>
                            <!-- <th class="text-right">Actions</th> -->
                        </tr>
                    </thead>
                    <tbody id="tbody1">
                        <tr>
                            <td class="text-center">1</td>
                            <td>Andrew Mike</td>
                            <td>Develop</td>
                            <td>2013</td>
                            <td class="text-right">&euro; 99,225</td>
                            <td class="td-actions text-right">
                                <button type="button" rel="tooltip" class="btn btn-info btn-sm btn-icon">
                                    <i class="tim-icons icon-single-02"></i>
                                </button>
                                <button type="button" rel="tooltip" class="btn btn-success btn-sm btn-icon">
                                    <i class="tim-icons icon-settings"></i>
                                </button>
                                <button type="button" rel="tooltip" class="btn btn-danger btn-sm btn-icon">
                                    <i class="tim-icons icon-simple-remove"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">2</td>
                            <td>John Doe</td>
                            <td>Design</td>
                            <td>2012</td>
                            <td class="text-right">&euro; 89,241</td>
                            <td class="td-actions text-right">
                                <button type="button" rel="tooltip" class="btn btn-info btn-sm btn-round btn-icon">
                                    <i class="tim-icons icon-single-02"></i>
                                </button>
                                <button type="button" rel="tooltip" class="btn btn-success btn-sm btn-round btn-icon">
                                    <i class="tim-icons icon-settings"></i>
                                </button>
                                <button type="button" rel="tooltip" class="btn btn-danger btn-sm btn-round btn-icon">
                                    <i class="tim-icons icon-simple-remove"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="text-center">3</td>
                            <td>Alex Mike</td>
                            <td>Design</td>
                            <td>2010</td>
                            <td class="text-right">&euro; 92,144</td>
                            <td class="td-actions text-right">
                                <button type="button" rel="tooltip" class="btn btn-info btn-link btn-icon btn-sm">
                                    <i class="tim-icons icon-single-02"></i>
                                </button>
                                <button type="button" rel="tooltip" class="btn btn-success btn-link btn-icon btn-sm">
                                    <i class="tim-icons icon-settings"></i>
                                </button>
                                <button type="button" rel="tooltip" class="btn btn-danger btn-link btn-icon btn-sm">
                                    <i class="tim-icons icon-simple-remove"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!-- </div> -->
            </div>

            <footer class="footer">
                <div class="container-fluid">
                    <nav>
                        <ul>
                            <li>
                                <a href="">
                                    Dashboard
                                </a>
                            </li>
                            <li>
                                <a href="http://presentation.creative-tim.com">
                                    About Us
                                </a>
                            </li>
                            <li>
                                <a href="http://blog.creative-tim.com">
                                    Blog
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <div class="copyright float-right">
                        ©
                        <script>
                            document.write(new Date().getFullYear())
                        </script> made with <i class="tim-icons icon-heart-2"></i> by
                        <a href="#" target="_blank">Mind Debuggers</a>
                    </div>
            </footer>
        </div>
    </div>




    <div class="fixed-plugin">
        <div class="dropdown show-dropdown">
            <a href="#" data-toggle="dropdown">
                <i class="fa fa-cog fa-2x"> </i>
            </a>
            <ul class="dropdown-menu">
                <li class="header-title"> Sidebar Background</li>
                <li class="adjustments-line">
                    <a href="javascript:void(0)" class="switch-trigger background-color">
                        <div class="badge-colors text-center">
                            <span class="badge filter badge-primary active" data-color="primary"></span>
                            <span class="badge filter badge-blue" data-color="blue"></span>
                            <span class="badge filter badge-green" data-color="green"></span>
                        </div>
                        <div class="clearfix"></div>
                    </a>
                </li>
                <li class="adjustments-line text-center color-change">
                    <span class="color-label">LIGHT MODE</span>
                    <span class="badge light-badge mr-2"></span>
                    <span class="badge dark-badge ml-2"></span>
                    <span class="color-label">DARK MODE</span>
                </li>
            </ul>
        </div>
    </div>

    <div class="fixed-plugin">
        <div class="dropdown show-dropdown">
            <a href="#" data-toggle="dropdown">
                <i class="fa fa-cog fa-2x"> </i>
            </a>
            <ul class="dropdown-menu">
                <li class="header-title"> Sidebar Background</li>
                <li class="adjustments-line">
                    <a href="javascript:void(0)" class="switch-trigger background-color">
                        <div class="badge-colors text-center">
                            <span class="badge filter badge-primary active" data-color="primary"></span>
                            <span class="badge filter badge-blue" data-color="blue"></span>
                            <span class="badge filter badge-green" data-color="green"></span>
                        </div>
                        <div class="clearfix"></div>
                    </a>
                </li>
                <li class="adjustments-line text-center color-change">
                    <span class="color-label">LIGHT MODE</span>
                    <span class="badge light-badge mr-2"></span>
                    <span class="badge dark-badge ml-2"></span>
                    <span class="color-label">DARK MODE</span>
                </li>
            </ul>
        </div>
    </div>


    <!--   Core JS Files   -->
    <script src="../static/js/core/jquery.min.js"></script>
    <script src="../static/js/core/popper.min.js"></script>
    <script src="../static/js/core/bootstrap.min.js"></script>
    <script src="../static/js/plugins/perfect-scrollbar.jquery.min.js"></script>
    <!--  Google Maps Plugin    -->
    <!-- <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script> -->
    <!-- Chart JS -->
    <script src="../static/js/plugins/chartjs.min.js"></script>
    <!--  Notifications Plugin    -->
    <script src="../static/js/plugins/bootstrap-notify.js"></script>
    <!-- Control Center for Black Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="../static/js/black-dashboard.min.js?v=1.0.0" type="text/javascript"></script>
    <!-- Black Dashboard DEMO methods, don't include it in your project! -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"
        integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ=="
        crossorigin="anonymous"></script>
    <script src="../static/js/condition.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-database.js"></script>
    <script src="../static/js/prescriptive.js"></script>
    <!-- <script type="module"  src="../static/js/firebase.js"></script> -->


    <script>
        $(document).ready(function () {
            $().ready(function () {
                $sidebar = $('.sidebar');
                $navbar = $('.navbar');

                $full_page = $('.full-page');

                $sidebar_responsive = $('body > .navbar-collapse');
                sidebar_mini_active = true;
                white_color = false;

                window_width = $(window).width();

                fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();



                $('.fixed-plugin a').click(function (event) {
                    // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
                    if ($(this).hasClass('switch-trigger')) {
                        if (event.stopPropagation) {
                            event.stopPropagation();
                        } else if (window.event) {
                            window.event.cancelBubble = true;
                        }
                    }
                });

                $('.fixed-plugin .background-color span').click(function () {
                    $(this).siblings().removeClass('active');
                    $(this).addClass('active');

                    var new_color = $(this).data('color');

                    if ($sidebar.length != 0) {
                        $sidebar.attr('data-color', new_color);
                    }

                    if ($navbar.length != 0) {
                        $navbar.attr('data-color', new_color);
                    }

                    if ($full_page.length != 0) {
                        $full_page.attr('filter-color', new_color);
                    }

                    if ($sidebar_responsive.length != 0) {
                        $sidebar_responsive.attr('data-color', new_color);
                    }
                });

                $('.switch-sidebar-mini input').on("switchChange.bootstrapSwitch", function () {
                    var $btn = $(this);

                    if (sidebar_mini_active == true) {
                        $('body').removeClass('sidebar-mini');
                        sidebar_mini_active = false;
                        blackDashboard.showSidebarMessage('Sidebar mini deactivated...');
                    } else {
                        $('body').addClass('sidebar-mini');
                        sidebar_mini_active = true;
                        blackDashboard.showSidebarMessage('Sidebar mini activated...');
                    }

                    // we simulate the window Resize so the charts will get updated in realtime.
                    var simulateWindowResize = setInterval(function () {
                        window.dispatchEvent(new Event('resize'));
                    }, 180);

                    // we stop the simulation of Window Resize after the animations are completed
                    setTimeout(function () {
                        clearInterval(simulateWindowResize);
                    }, 1000);
                });

                $('.switch-change-color input').on("switchChange.bootstrapSwitch", function () {
                    var $btn = $(this);

                    if (white_color == true) {

                        $('body').addClass('change-background');
                        setTimeout(function () {
                            $('body').removeClass('change-background');
                            $('body').removeClass('white-content');
                        }, 900);
                        white_color = false;
                    } else {

                        $('body').addClass('change-background');
                        setTimeout(function () {
                            $('body').removeClass('change-background');
                            $('body').addClass('white-content');
                        }, 900);

                        white_color = true;
                    }


                });

                $('.light-badge').click(function () {
                    $('body').addClass('white-content');
                });

                $('.dark-badge').click(function () {
                    $('body').removeClass('white-content');
                });
            });
        });

        $(document).ready(function () {
            // Javascript method's body can be found in static/js/demos.js
            demo.initDashboardPageCharts();

        });

    </script>

    <script type="module">

        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";
        import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-database.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-auth.js";
        //Initialize Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAx8jh5Z488sMwj00f4MB69BcK9jJczNgc",
            authDomain: "login-form-f8c27.firebaseapp.com",
            projectId: "login-form-f8c27",
            storageBucket: "login-form-f8c27.appspot.com",
            messagingSenderId: "901028173004",
            appId: "1:901028173004:web:26b8fbec0c6404a04cde69"
        };

        firebase.initializeApp(firebaseConfig);
        // const database = getDatabase();

        var stdNo = 0;
        var tbody = document.getElementById('tbody1');

        function addItemToTable(condition, hif, name, solution) {
            let trow = document.createElement('tr');
            let td1 = document.createElement('td');
            let td2 = document.createElement('td');
            let td3 = document.createElement('td');
            let td4 = document.createElement('td');
            let td5 = document.createElement('td');

            td1.innerHTML = ++stdNo;
            td2.innerHTML = condition;
            td3.innerHTML = hif;
            td4.innerHTML = name;
            td5.innerHTML = solution;

            trow.appendChild(td1);
            trow.appendChild(td2);
            trow.appendChild(td3);
            trow.appendChild(td4);
            trow.appendChild(td5);

            tbody.appendChild(trow);

        }

        function AddAllItemsToTable(Data) {
            stdNo = 0;
            tbody.innerHTML = "";
            Data.forEach(element => {
                addItemToTable(element.Name, element.Hif, element.Condition, element.Solution);
            });
        }

        function GetAllDataOnce() {
            // const dbref = ref(database);
            var usersRef = firebase.database().ref("test2");

            // var usersRef = ref(database, "test2");

            usersRef.once("value")
            .then(function (snapshot) {
                var students = [];
                snapshot.forEach(function (childSnapshot) {
                    students.push(childSnapshot.val());
                    var userKey = childSnapshot.key;
                    var userData = childSnapshot.val();
                    console.log("User key: " + userKey);
                    console.log("User data: ", userData);
                });
                AddAllItemsToTable(students);
            })
            .catch(function (error) {
                console.log("Error: " + error.message);
            });
        }

        window.onload = GetAllDataOnce;
    </script>

</body>

</html>